# LLM Provider Keys
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
XAI_API_KEY=xai-your-xai-api-key

# Session
SESSION_SECRET=your-session-secret-base64-encoded

# Upstash Redis (optional - falls back to in-memory store if not set)
# Get these from https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# Pusher - Real-time Events (required for production)
# Get these from https://dashboard.pusher.com
# Without these, the app falls back to polling (works but less efficient)
PUSHER_APP_ID=your-pusher-app-id
PUSHER_KEY=your-pusher-key
PUSHER_SECRET=your-pusher-secret
PUSHER_CLUSTER=mt1
NEXT_PUBLIC_PUSHER_KEY=your-pusher-key
NEXT_PUBLIC_PUSHER_CLUSTER=mt1

# Feature Flags
ENABLE_CUSTOM_RULES=true
MAX_DEBATE_TURNS=10

# Streaming Optimization
# Set to 'true' to enable batched streaming (reduces Pusher/Redis usage by ~90%)
# When enabled, streaming tokens are batched (200ms window) and only durable events are persisted to Redis
BATCH_STREAMING=false

# Debate Mode: 'prod' for real LLM calls, 'mock' for simulated debates (dev only)
DEBATE_MODE=prod

# Token Budget Configuration
TOKEN_BUDGET_PER_DEBATE=50000
MAX_TOKENS_PER_TURN=2000
BUDGET_WARNING_THRESHOLD=80
BUDGET_HARD_LIMIT=true
# COST_LIMIT_USD=1.00

# Logging
LOG_LEVEL=info

# Supabase - Log Persistence & Abuse Tracking (optional)
# Get these from https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
# Required for: abuse tracking, IP bans, content violation logging
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Abuse Tracking - IP Privacy
# Generate with: openssl rand -base64 32
# Used to hash IPs for privacy-preserving abuse tracking
IP_HASH_SALT=your-random-salt-for-ip-hashing

# Admin API - Ban Management
# Generate with: openssl rand -base64 32
# Required for /api/admin/bans endpoints
ADMIN_API_KEY=your-admin-api-key

# Monitoring - Sentry
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_RELEASE=
NEXT_PUBLIC_SENTRY_DSN=

# Metrics
METRICS_AUTH_TOKEN=

# Alerting Webhooks (optional)
ALERT_SLACK_WEBHOOK_URL=
ALERT_DISCORD_WEBHOOK_URL=
ALERT_WEBHOOK_URL=

# App URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000
